// Template class for basic types (int, double, bool, std::string)
// Note that this can also be treated as a basic wrapper for any
// class.
//
// Objects of this class wraps a value (int/double/bool/etc.). The
// name of this attribute is _x.
//
// This class overwrites the following in pyobject:
// __repr__() this returns the string version of _x
// operator==() and operator!= uses _x for comparison

#ifndef PYBASIC_H
#define PYBASIC_H

#include "include.h"

template < class T >
class pybasic: public pyobject
{
public:
    pybasic(const T & x) : pyobject(), _x(x) {}
    virtual pytype & type() const {} // not used
    virtual bool operator==(const pybasic & x) { _x == x._x; }
    virtual bool operator!=(const pybasic & x) { _x != x._x; }
    std::string __repr__() const { return str(_x); }

    //static pytype * _type;
//private:
    T _x;
};

template < class T >
class p_pybasic: public p_pyobject
{
    p_pybasic(pybasic< T > *);
};


class pyint: public pybasic<int>
{
public:
    pyint(int x) : pybasic<int>(x) {}
    void operator+=(const pyint & x) { _x += x._x; }
    virtual pytype & type() const;
    static pytype * _type;
};


class p_pyint: public p_pybasic<int>
{
public:
    p_pyint(pyint *);
    void operator+=(const p_pyint & x) { deref() += x.deref(); }

};

#endif
